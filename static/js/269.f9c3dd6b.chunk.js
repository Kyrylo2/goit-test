"use strict";(self.webpackChunkgoit_test=self.webpackChunkgoit_test||[]).push([[269],{6269:function(n,e,r){r.r(e),r.d(e,{default:function(){return cn}});var t,o,i,l,a,s,c,u,d,p,f,x=r(9439),h=r(9434),g=function(n){return n.followedUsers.items},b=r(168),m=r(8789),w=m.default.ul(t||(t=(0,b.Z)(["\n  display: grid;\n\n  @media (min-width: 480px) {\n    grid-template-columns: repeat(1, 1fr);\n    gap: 10px;\n  }\n  @media (min-width: 768px) {\n    grid-template-columns: repeat(2, 1fr);\n    max-width: 768px;\n    width: 100%;\n    gap: 10px;\n  }\n  @media (min-width: 1200px) {\n    grid-template-columns: repeat(3, 1fr);\n    max-width: 1200px;\n    width: 100%;\n    gap: 25px;\n  }\n"]))),v=m.default.img(o||(o=(0,b.Z)(["\n  height: 30%;\n"]))),A=r(5861),Z=r(4687),k=r.n(Z),j=r(2791),C=r(6403),y=r(3418),F=r(4477),S=m.default.li(i||(i=(0,b.Z)(["\n  position: relative;\n  padding: 20px;\n  width: 380px;\n  height: 460px;\n  ","\n  transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275),\n    box-shadow 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n\n  &:hover {\n    transform: scale(1.02);\n    box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.3);\n  }\n"])),"\n  background: linear-gradient(114.99deg, #471CA9 -0.99%, #5736A3 54.28%, #4B2A99 78.99%);\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n"),R=(m.default.p(l||(l=(0,b.Z)(["\n  font-family: 'Montserrat';\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 1.2;\n  text-transform: uppercase;\n  color: #ebd8ff;\n"]))),m.default.div(a||(a=(0,b.Z)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  ","\n"])),"\n  width: 80px;\n  height: 80px;\n  background: rgb(235, 216, 255);\n  box-shadow: rgba(0, 0, 0, 0.06) 0px 4.39163px 4.39163px,\n    rgb(174, 123, 227) 0px -2.19582px 4.39163px inset,\n    rgb(251, 248, 255) 0px 4.39163px 3.29372px inset;\n  clip-path: circle(40px at center);\n  border-radius: 50%;\n")),U=m.default.img(s||(s=(0,b.Z)(["\n  position: absolute;\n  transform: translate(-50%, -50%);\n  left: 50%;\n  top: 50%;\n  width: 62px;\n  height: 62px;\n  border-radius: 50%;\n"]))),W=m.default.div(c||(c=(0,b.Z)(["\n  position: absolute;\n  transform: translate(0, -50%);\n  left: 0;\n  top: 50%;\n  ","\n"])),"\n  width: 380px;\n  height: 8px;\n  background: rgb(235, 216, 255);\n  box-shadow: rgba(0, 0, 0, 0.06) 0px 3.43693px 3.43693px,\n    rgb(174, 123, 227) 0px -1.71846px 3.43693px inset,\n    rgb(251, 248, 255) 0px 3.43693px 2.5777px inset;\n  z-index: 0;\n"),B=m.default.div(u||(u=(0,b.Z)(["\n  display: flex;\n  gap: 16px;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin-bottom: 26px;\n  width: max-content;\n"]))),E=m.default.div(d||(d=(0,b.Z)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  width: 208px;\n  bottom: 36px;\n  left: 50%;\n  transform: translateX(-50%);\n  align-items: center;\n"]))),N=m.default.img(p||(p=(0,b.Z)(["\n  position: absolute;\n  top: 28px;\n  left: 36px;\n"]))),I=r(1413),L=r(5987),O=r(3678),M=(0,m.default)(O.Z)(f||(f=(0,b.Z)(["\n  && {\n    background-color: ",";\n    color: #373737;\n    transition: background-color 250ms linear;\n    min-width: 196px;\n\n    :hover {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"])),(function(n){return n.following?"#5CD3A8":"#EBD8FF"}),(function(n){return n.following?"#EBD8FF":"#5CD3A8"}),(function(n){return n.following,"#373737"})),G=r(3329),q=["selected","loading","type","following","children","onClick"],z=function(n){n.selected;var e=n.loading,r=void 0!==e&&e,t=n.type,o=void 0===t?"button":t,i=n.following,l=void 0!==i&&i,a=n.children,s=n.onClick,c=(0,L.Z)(n,q);return console.log("Button clicked",l),(0,G.jsx)(M,(0,I.Z)((0,I.Z)({type:o,loading:r,loadingPosition:"start",variant:"solid",disabled:r,following:l,onClick:function(n){!r&&s&&s(n)}},c),{},{children:a}))},D=r(1243).Z.create({baseURL:"https://6491ea672f2c7ee6c2c92653.mockapi.io"}),K=function(){var n=(0,A.Z)(k().mark((function n(e){var r;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e;case 3:return r=n.sent,n.abrupt("return",r.data);case 7:throw n.prev=7,n.t0=n.catch(0),console.error("Request error:",n.t0),new Error(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),J=function(){var n=(0,A.Z)(k().mark((function n(e,r){var t;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=D.put("/users/".concat(e.id),{followers:+e.followers+r}),n.abrupt("return",K(t));case 2:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),Y=function(){var n=(0,A.Z)(k().mark((function n(){var e;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=D.get("/users"),n.abrupt("return",K(e));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),H=function(){var n=(0,A.Z)(k().mark((function n(e){return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",J(e,1));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),X=function(){var n=(0,A.Z)(k().mark((function n(e){return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",J(e,-1));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),P=(0,j.memo)((function(n){var e=n.user,t=n.following,o=(0,h.I0)(),i=(0,C.NL)(),l=(0,y.D)((function(n){return(n?H:X)(e)})),a=l.mutateAsync,s=l.isLoading,c=(0,j.useCallback)(function(){var n=(0,A.Z)(k().mark((function n(r){return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a(r);case 3:o(r?(0,F.mX)(e):(0,F.Fg)(e.id)),i.invalidateQueries(["users"]),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Error:",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),[o,i,e,a]),u=(0,j.useCallback)((function(){c(!0)}),[c]),d=(0,j.useCallback)((function(){c(!1)}),[c]),p=s?"LOADING":t?"FOLLOWING":"FOLLOW",f=t?d:u;return(0,G.jsxs)(S,{children:[(0,G.jsx)("img",{src:r(6148),alt:"logo"}),(0,G.jsx)(N,{src:r(961),alt:""}),(0,G.jsx)(R,{children:(0,G.jsx)(U,{src:e.avatar,alt:"user avatar"})}),(0,G.jsx)(W,{}),(0,G.jsxs)(E,{children:[(0,G.jsxs)(B,{children:[(0,G.jsxs)("p",{children:[e.tweets.toLocaleString("en-GB")," TWEETS"]}),(0,G.jsxs)("p",{children:[e.followers.toLocaleString("en-GB")," FOLLOWERS"]})]}),(0,G.jsx)(z,{type:"button",onClick:f,following:t,loading:s,disabled:s,children:p})]})]})})),V=P,Q=function(n){var e=n.users,t=n.filterSelector;console.log("visibleUsers:",e),console.log("filteredSelector:",t);var o=(0,h.v9)(g);console.log("followedUsers:",o);var i=function(n){var e=null===o||void 0===o?void 0:o.some((function(e){return e.id===n.id}));return console.log("isFollowing:",e),e},l=e.filter((function(n){return"all"===t||("followed"===t?i(n):"not followed"===t&&!i(n))}));return(null===l||void 0===l?void 0:l.length)>0?(0,G.jsx)(w,{children:l.map((function(n){return(0,G.jsx)(V,{user:n,following:i(n)},n.id)}))}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{children:["No ",t," users"]}),(0,G.jsx)(v,{src:r(5646),alt:"cat"})]})},T=r(7689),_=r(3639),$=r(2917),nn=r(5985);var en,rn=r(4925),tn=r(1442),on=r(6362),ln=r(1798),an=r(4283),sn=m.default.div(en||(en=(0,b.Z)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n"]))),cn=function(){var n=(0,j.useState)(1),e=(0,x.Z)(n,2),t=e[0],o=e[1],i=(0,j.useState)([]),l=(0,x.Z)(i,2),a=l[0],s=l[1],c=(0,j.useState)("all"),u=(0,x.Z)(c,2),d=u[0],p=u[1],f=(0,T.s0)(),h=(0,$.a)({queryKey:["users"],queryFn:function(){return nn.Am.promise(Y,{pending:"Loading...",success:"Success"})},staleTime:3e5}),g=h.data,b=h.isError,m=h.isLoading,w=h.fetchStatus,v=h.status;(0,j.useEffect)((function(){"success"===v&&"idle"===w&&s(g.slice(0,3*t))}),[t,g,w,v]);var A=function(){return Math.ceil(g.length/3)};return console.log("----------------",a,a.length),m?(0,G.jsx)(_.Z,{}):b?(0,G.jsx)("div",{children:"Error"}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(sn,{children:[(0,G.jsx)(O.Z,{variant:"outlined",onClick:function(){f("/",{replace:!0})},sx:{m:1,minWidth:120,color:ln.Z[50],borderColor:ln.Z[200],borderWidth:"1px",borderRadius:"4px",fontSize:"14px",fontWeight:"400","&.Mui-focused":{color:ln.Z[800]},"&:hover":{borderColor:ln.Z[600],borderWidth:"1px",backgroundColor:ln.Z[600],color:ln.Z[50]}},children:"Go back"}),(0,G.jsxs)(on.Z,{sx:{m:1,minWidth:120,color:ln.Z[50],"&.Mui-focused":{color:ln.Z[800]},borderColor:ln.Z[200],borderWidth:"1px",borderRadius:"4px","&:hover > #filter-radio-button-label":{color:ln.Z[600]}},children:[(0,G.jsx)(rn.Z,{id:"filter-radio-button-label",sx:{color:ln.Z[200],"&.Mui-focused":{color:ln.Z[600]},"&:hover":{color:ln.Z[600]}},children:"Filter"}),(0,G.jsxs)(an.Z,{labelId:"filter-radio-button-label",id:"filter-radio-button",value:d,label:"Filter",onChange:function(n){p(n.target.value)},sx:{color:ln.Z[50],fontWeight:"400",fontSize:"14px",".MuiOutlinedInput-notchedOutline":{borderColor:ln.Z[200],borderWidth:"1px"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:ln.Z[600],borderWidth:"1px"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:ln.Z[600],borderWidth:"1px"},".MuiSvgIcon-root ":{fill:"white !important"}},autoWidth:!0,children:[(0,G.jsx)(tn.Z,{value:"all",children:"All"}),(0,G.jsx)(tn.Z,{value:"followed",children:"Followed"}),(0,G.jsx)(tn.Z,{value:"not followed",children:"Not followed"})]})]})]}),(null===a||void 0===a?void 0:a.length)>0?(0,G.jsx)(Q,{users:a,filterSelector:d}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{children:"No Photo"}),(0,G.jsx)("img",{src:r(5646),alt:"cat"})]}),(0,G.jsx)(O.Z,{variant:"outlined",onClick:function(){t>=A||o((function(n){return n+1}))},sx:{m:1,minWidth:120,color:ln.Z[50],borderColor:ln.Z[200],borderWidth:"1px",borderRadius:"4px",fontSize:"14px",fontWeight:"400","&.Mui-focused":{color:ln.Z[800]},"&:hover":{borderColor:ln.Z[600],borderWidth:"1px",backgroundColor:ln.Z[600],color:ln.Z[50]}},children:"Load more"})]})}},6148:function(n){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAWCAYAAABqgnq6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKGSURBVHgB1VixThtBEJ2L4sJICVJIQREKUpDiGkdK4xRpqPPHSZPCFCmSAgosAcVRuMANBS7OknnvbhaNlzvvnsF4edLIe765vd2nmTezly0Wi5+yfdzB/mRZVrY5YJ1f8fNJtow3kgZ2YAN5BUiFMGIfUfRFEkdKhBFHIG1fEkZqhBEDkLYjiSJFwnqwIUjrSYJ4G+k3h13AprAZrC+1UB/A9hr8b2GF+pfqf6AWA1cE/sp6mMDOdHwI+6zjE6krchu4zu8r7kcRRoJGKPn2RRyTjAKRcIRfK9Zj+J57c1T+8B3rgvoSRlUEGuaKwdytF3PM7Tq8fSwBvhJCKCWXyGKawHY9jdk148JuUP0ffHWekdQRGwMWgdiojAHX/lHtIeXdf9KcLUsIRdiNIYsb/yG1xvD6Uup0s1VtbBbBNMh1zDlOOBcN10zv2BYih/9UngffzPg3rNR9DSUSoQi7NmNqCskiKf+l1qmZjhkxtx65uXnWb0y7EFAVAYnX240itAib7053piDmxjqpjpUNvtLy30y6IRON7G0jFGFWq9wm+4yghrL/3owZfb5OWZJiRN+B84ykO8kbQYgwK4JMPS6aqXUsjwWyp8Ipeog+Nfdc6jp0EfLTVZXtpRFKyUOQUDixxvUv1aey5csCU7NKV9xny8F+qGc3rM/HHn/YohSSEEIR5rrupdbAkqUHZnd/D9cDl670ayBrKHF6NFmzB9soYioPN3nMSJO6g57rc0xJppa/+ar7h/+V1FomAf8m+CncFR/0+xnxrsUn16a2U/Xt4tz1aJPLeqhEftXHxMj3hw7wa30VSfHw/S8lkfeRGmEU+YkkjJQIS1LkfaRC2FNF/sVwDzHOB2t0D1rCAAAAAElFTkSuQmCC"},5646:function(n,e,r){n.exports=r.p+"static/media/sad-cat-carnimee-transparent.312e27d8dd3b62695d08.png"},961:function(n,e,r){n.exports=r.p+"static/media/mainPicture.010ab3c33bc13f300d33.png"}}]);
//# sourceMappingURL=269.f9c3dd6b.chunk.js.map